{"version":3,"file":"commonHelpers.js","sources":["../src/js/reviews.js"],"sourcesContent":["import Swiper from 'swiper';\nimport 'swiper/css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const swiperContainer = document.querySelector('.swiper-container');\n  const swiperPrev = document.querySelector('.swiper-button-prev');\n  const swiperNext = document.querySelector('.swiper-button-next');\n\n  const swiper = new Swiper(swiperContainer, {\n    slidesPerView: 4,\n    spaceBetween: 20,\n    navigation: {\n      nextEl: swiperNext,\n      prevEl: swiperPrev,\n    },\n    keyboard: true,\n    breakpoints: {\n      320: {\n        slidesPerView: 1,\n      },\n      340: {\n        slidesPerView: 2,\n      },\n      768: {\n        slidesPerView: 3,\n      },\n      1024: {\n        slidesPerView: 4,\n      },\n    },\n  });\n\n  fetchReviews();\n\n  async function fetchReviews() {\n    try {\n      const response = await fetch(\n        'https://portfolio-js.b.goit.study/api/reviews'\n      );\n      if (!response.ok) {\n        throw new Error('Failed to fetch reviews');\n      }\n      const data = await response.json();\n      if (data.length === 0) {\n        showNoReviewsMessage();\n        return;\n      }\n      renderReviews(data);\n    } catch (error) {\n      console.error('Error fetching reviews:', error);\n      showErrorPopup('Failed to fetch reviews. Please try again later.');\n    }\n  }\n\n  function renderReviews(reviews) {\n    const reviewsList = reviews\n      .map(\n        review => `\n        <div class=\"swiper-slide\">\n          <div class=\"review-card\">\n            <img src=\"${review.avatar_url}\" alt=\"${review.author}'s avatar\" class=\"review-avatar\" />\n            <div class=\"review-author\">${review.author}</div>\n            <div class=\"review-text\">${review.review}</div>\n          </div>\n        </div>\n      `\n      )\n      .join('');\n    swiperContainer.querySelector('.swiper-wrapper').innerHTML = reviewsList;\n    swiper.update();\n    checkNavigationButtons();\n  }\n\n  function showNoReviewsMessage() {\n    swiperContainer.querySelector('.swiper-wrapper').innerHTML =\n      '<p class=\"not-found\">No content available</p>';\n    swiper.destroy();\n  }\n\n  function showErrorPopup(message) {\n    alert(message);\n  }\n\n  function checkNavigationButtons() {\n    if (swiper.isBeginning) {\n      // Обновлено\n      swiperPrev.classList.add('swiper-button-disabled');\n    } else {\n      swiperPrev.classList.remove('swiper-button-disabled');\n    }\n\n    if (swiper.isEnd) {\n      // Обновлено\n      swiperNext.classList.add('swiper-button-disabled');\n    } else {\n      swiperNext.classList.remove('swiper-button-disabled');\n    }\n  }\n\n  swiper.on('slideChange', checkNavigationButtons);\n});\n"],"names":["swiperContainer","swiperPrev","swiperNext","swiper","Swiper","fetchReviews","response","data","showNoReviewsMessage","renderReviews","error","showErrorPopup","reviews","reviewsList","review","checkNavigationButtons","message"],"mappings":"svBAGA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAkB,SAAS,cAAc,mBAAmB,EAC5DC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAa,SAAS,cAAc,qBAAqB,EAEzDC,EAAS,IAAIC,EAAOJ,EAAiB,CACzC,cAAe,EACf,aAAc,GACd,WAAY,CACV,OAAQE,EACR,OAAQD,CACT,EACD,SAAU,GACV,YAAa,CACX,IAAK,CACH,cAAe,CAChB,EACD,IAAK,CACH,cAAe,CAChB,EACD,IAAK,CACH,cAAe,CAChB,EACD,KAAM,CACJ,cAAe,CAChB,CACF,CACL,CAAG,EAEDI,IAEA,eAAeA,GAAe,CAC5B,GAAI,CACF,MAAMC,EAAW,MAAM,MACrB,+CACR,EACM,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,yBAAyB,EAE3C,MAAMC,EAAO,MAAMD,EAAS,OAC5B,GAAIC,EAAK,SAAW,EAAG,CACrBC,IACA,MACD,CACDC,EAAcF,CAAI,CACnB,OAAQG,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CC,EAAe,kDAAkD,CAClE,CACF,CAED,SAASF,EAAcG,EAAS,CAC9B,MAAMC,EAAcD,EACjB,IACCE,GAAU;AAAA;AAAA;AAAA,wBAGMA,EAAO,UAAU,UAAUA,EAAO,MAAM;AAAA,yCACvBA,EAAO,MAAM;AAAA,uCACfA,EAAO,MAAM;AAAA;AAAA;AAAA,OAI7C,EACA,KAAK,EAAE,EACVd,EAAgB,cAAc,iBAAiB,EAAE,UAAYa,EAC7DV,EAAO,OAAM,EACbY,GACD,CAED,SAASP,GAAuB,CAC9BR,EAAgB,cAAc,iBAAiB,EAAE,UAC/C,gDACFG,EAAO,QAAO,CACf,CAED,SAASQ,EAAeK,EAAS,CAC/B,MAAMA,CAAO,CACd,CAED,SAASD,GAAyB,CAC5BZ,EAAO,YAETF,EAAW,UAAU,IAAI,wBAAwB,EAEjDA,EAAW,UAAU,OAAO,wBAAwB,EAGlDE,EAAO,MAETD,EAAW,UAAU,IAAI,wBAAwB,EAEjDA,EAAW,UAAU,OAAO,wBAAwB,CAEvD,CAEDC,EAAO,GAAG,cAAeY,CAAsB,CACjD,CAAC"}